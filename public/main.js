"use strict";var app=angular.module("myApp",["ui.router"]);app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,n){n.html5Mode({enabled:!0,requireBase:!1}),t.otherwise("/")}]),app.controller("peopleController",["$scope","peopleFactory",function(e,t){function n(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&++t;return t}function r(t){Array.isArray(t)?e.currentResults=t:e.currentResults=[t]}e.max=0,e.people=t.getAllPeople().then(function(t){e.max=parseInt(n(t))}),e.currentPerson={},e.currentResults={},e.getPersons=function(t){t.id?e.getSinglePerson(e.currentPerson):e.getAllPeople()},e.getAllPeople=function(){t.getAllPeople().then(function(t){e.currentResults=t}).catch()},e.getSinglePerson=function(n){t.getSinglePerson(n).then(function(t){t.id||(t={id:"No Record Found",name:"No Record Found",favoriteCity:"No Record Found"}),e.currentResults=[t]}).catch(),e.currentPerson={}},e.postPerson=function(n){t.postPerson(n).then(r).catch(),e.currentPerson={}},e.updatePerson=function(n){t.updatePerson(n).then(function(t){e.currentResults=[n]}).catch(),e.currentPerson={}},e.deletePerson=function(n){t.deletePerson(n).then(function(){e.currentResults=[{id:"RECORD DELETED",name:"RECORD DELETED",favoriteCity:"RECORD DELETED"}]}).catch(),e.currentPerson={}}}]),app.factory("peopleFactory",["$http",function(e){function t(e){return e.data}return{getAllPeople:function(){return e.get("/api/people").then(t).catch()},getSinglePerson:function(n){return e.get("/api/people/"+n.id).then(t).catch()},postPerson:function(n){return e.post("/api/people",n).then(t).catch()},updatePerson:function(n){return e.put("/api/people/"+n.id,n).then(t).catch()},deletePerson:function(n){return e.delete("/api/people/"+n.id).then(t).catch()}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJhcHAuanMiLCJwZW9wbGUvcGVvcGxlLmNvbnRyb2xsZXIuanMiLCJwZW9wbGUvcGVvcGxlLmZhY3RvcnkuanMiXSwibmFtZXMiOlsiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJodG1sNU1vZGUiLCJlbmFibGVkIiwicmVxdWlyZUJhc2UiLCJvdGhlcndpc2UiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwicGVvcGxlRmFjdG9yeSIsImNvdW50UHJvcGVydGllcyIsIm9iaiIsImNvdW50IiwicHJvcCIsImhhc093blByb3BlcnR5Iiwic2F2ZVJlc3VsdHMiLCJyZXN1bHRzIiwiQXJyYXkiLCJpc0FycmF5IiwiY3VycmVudFJlc3VsdHMiLCJtYXgiLCJwZW9wbGUiLCJnZXRBbGxQZW9wbGUiLCJ0aGVuIiwicGFyc2VJbnQiLCJjdXJyZW50UGVyc29uIiwiZ2V0UGVyc29ucyIsInBlcnNvbkluZm8iLCJpZCIsImdldFNpbmdsZVBlcnNvbiIsInJlc3BvbnNlIiwiY2F0Y2giLCJyZXN1bHQiLCJuYW1lIiwiZmF2b3JpdGVDaXR5IiwicG9zdFBlcnNvbiIsInVwZGF0ZVBlcnNvbiIsImRlbGV0ZVBlcnNvbiIsImZhY3RvcnkiLCIkaHR0cCIsImdldERhdGEiLCJkYXRhIiwiZ2V0IiwicG9zdCIsInB1dCIsImRlbGV0ZSJdLCJtYXBwaW5ncyI6IkFBQUEsWUNBQSxJQUFBQSxLQUFBQyxRQUFBQyxPQUFBLFNBQUEsYUFFQUYsS0FBQUcsUUFBQSxpQkFBQSxxQkFBQSxvQkFBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUNBQSxFQUFBQyxXQUNBQyxTQUFBLEVBQ0FDLGFBQUEsSUFFQUosRUFBQUssVUFBQSxRQ1BBVixJQUFBVyxXQUFBLG9CQUFBLFNBQUEsZ0JBQUEsU0FBQUMsRUFBQUMsR0FFQSxRQUFBQyxHQUFBQyxHQUNBLEdBQUFDLEdBQUEsQ0FFQSxLQUFBLEdBQUFDLEtBQUFGLEdBQ0FBLEVBQUFHLGVBQUFELE1BQ0FELENBR0EsT0FBQUEsR0FHQSxRQUFBRyxHQUFBQyxHQUVBQyxNQUFBQyxRQUFBRixHQUdBUixFQUFBVyxlQUFBSCxFQUZBUixFQUFBVyxnQkFBQUgsR0FNQVIsRUFBQVksSUFBQSxFQUVBWixFQUFBYSxPQUFBWixFQUFBYSxlQUFBQyxLQUFBLFNBQUFGLEdBQ0FiLEVBQUFZLElBQUFJLFNBQUFkLEVBQUFXLE1BSUFiLEVBQUFpQixpQkFFQWpCLEVBQUFXLGtCQUVBWCxFQUFBa0IsV0FBQSxTQUFBQyxHQUNBQSxFQUFBQyxHQUNBcEIsRUFBQXFCLGdCQUFBckIsRUFBQWlCLGVBRUFqQixFQUFBYyxnQkFJQWQsRUFBQWMsYUFBQSxXQUNBYixFQUFBYSxlQUNBQyxLQUFBLFNBQUFPLEdBQ0F0QixFQUFBVyxlQUFBVyxJQUVBQyxTQUdBdkIsRUFBQXFCLGdCQUFBLFNBQUFGLEdBQ0FsQixFQUFBb0IsZ0JBQUFGLEdBQ0FKLEtBQUEsU0FBQVMsR0FDQUEsRUFBQUosS0FDQUksR0FDQUosR0FBQSxrQkFDQUssS0FBQSxrQkFDQUMsYUFBQSxvQkFHQTFCLEVBQUFXLGdCQUFBYSxLQUVBRCxRQUNBdkIsRUFBQWlCLGtCQUdBakIsRUFBQTJCLFdBQUEsU0FBQVIsR0FDQWxCLEVBQUEwQixXQUFBUixHQUNBSixLQUFBUixHQUNBZ0IsUUFDQXZCLEVBQUFpQixrQkFHQWpCLEVBQUE0QixhQUFBLFNBQUFULEdBQ0FsQixFQUFBMkIsYUFBQVQsR0FDQUosS0FBQSxTQUFBUCxHQUNBUixFQUFBVyxnQkFBQVEsS0FFQUksUUFDQXZCLEVBQUFpQixrQkFHQWpCLEVBQUE2QixhQUFBLFNBQUFWLEdBRUFsQixFQUFBNEIsYUFBQVYsR0FDQUosS0FBQSxXQUNBZixFQUFBVyxpQkFDQVMsR0FBQSxpQkFDQUssS0FBQSxpQkFDQUMsYUFBQSxxQkFHQUgsUUFDQXZCLEVBQUFpQixxQkM1RkE3QixJQUFBMEMsUUFBQSxpQkFBQSxRQUFBLFNBQUFDLEdBRUEsUUFBQUMsR0FBQVYsR0FDQSxNQUFBQSxHQUFBVyxLQUdBLE9BQ0FuQixhQUFBLFdBRUEsTUFBQWlCLEdBQUFHLElBQUEsZUFDQW5CLEtBQUFpQixHQUNBVCxTQUVBRixnQkFBQSxTQUFBRixHQUNBLE1BQUFZLEdBQUFHLElBQUEsZUFBQWYsRUFBQUMsSUFDQUwsS0FBQWlCLEdBQ0FULFNBRUFJLFdBQUEsU0FBQVIsR0FDQSxNQUFBWSxHQUFBSSxLQUFBLGNBQUFoQixHQUNBSixLQUFBaUIsR0FDQVQsU0FFQUssYUFBQSxTQUFBVCxHQUNBLE1BQUFZLEdBQUFLLElBQUEsZUFBQWpCLEVBQUFDLEdBQUFELEdBQ0FKLEtBQUFpQixHQUNBVCxTQUVBTSxhQUFBLFNBQUFWLEdBQ0EsTUFBQVksR0FBQU0sT0FBQSxlQUFBbEIsRUFBQUMsSUFDQUwsS0FBQWlCLEdBQ0FUIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLCBbJ3VpLnJvdXRlciddKTtcblxuYXBwLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlcicsICckbG9jYXRpb25Qcm92aWRlcicsIGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh7XG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIHJlcXVpcmVCYXNlOiBmYWxzZVxuICAgIH0pO1xuICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoXCIvXCIpO1xufV0pO1xuYXBwLmNvbnRyb2xsZXIoJ3Blb3BsZUNvbnRyb2xsZXInLCBmdW5jdGlvbiAoJHNjb3BlLCBwZW9wbGVGYWN0b3J5KSB7XG5cbiAgICBmdW5jdGlvbiBjb3VudFByb3BlcnRpZXMob2JqKSB7XG4gICAgICAgIHZhciBjb3VudCA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkpICsrY291bnQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2F2ZVJlc3VsdHMocmVzdWx0cykge1xuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZXN1bHRzKSkge1xuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRSZXN1bHRzID0gW3Jlc3VsdHNdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRSZXN1bHRzID0gcmVzdWx0cztcbiAgICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5tYXggPSAwO1xuXG4gICAgJHNjb3BlLnBlb3BsZSA9IHBlb3BsZUZhY3RvcnkuZ2V0QWxsUGVvcGxlKCkudGhlbihmdW5jdGlvbiAocGVvcGxlKSB7XG4gICAgICAgICRzY29wZS5tYXggPSBwYXJzZUludChjb3VudFByb3BlcnRpZXMocGVvcGxlKSk7XG4gICAgfSk7XG5cbiAgICAkc2NvcGUuY3VycmVudFBlcnNvbiA9IHt9O1xuXG4gICAgJHNjb3BlLmN1cnJlbnRSZXN1bHRzID0ge307XG5cbiAgICAkc2NvcGUuZ2V0UGVyc29ucyA9IGZ1bmN0aW9uIChwZXJzb25JbmZvKSB7XG4gICAgICAgIGlmICghIXBlcnNvbkluZm8uaWQpIHtcbiAgICAgICAgICAgICRzY29wZS5nZXRTaW5nbGVQZXJzb24oJHNjb3BlLmN1cnJlbnRQZXJzb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHNjb3BlLmdldEFsbFBlb3BsZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS5nZXRBbGxQZW9wbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHBlb3BsZUZhY3RvcnkuZ2V0QWxsUGVvcGxlKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50UmVzdWx0cyA9IHJlc3BvbnNlO1xuICAgICAgICB9KS5jYXRjaCgpO1xuICAgIH07XG5cbiAgICAkc2NvcGUuZ2V0U2luZ2xlUGVyc29uID0gZnVuY3Rpb24gKHBlcnNvbkluZm8pIHtcbiAgICAgICAgcGVvcGxlRmFjdG9yeS5nZXRTaW5nbGVQZXJzb24ocGVyc29uSW5mbykudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdC5pZCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IFwiTm8gUmVjb3JkIEZvdW5kXCIsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiTm8gUmVjb3JkIEZvdW5kXCIsXG4gICAgICAgICAgICAgICAgICAgIGZhdm9yaXRlQ2l0eTogXCJObyBSZWNvcmQgRm91bmRcIlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudFJlc3VsdHMgPSBbcmVzdWx0XTtcbiAgICAgICAgfSkuY2F0Y2goKTtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRQZXJzb24gPSB7fTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnBvc3RQZXJzb24gPSBmdW5jdGlvbiAocGVyc29uSW5mbykge1xuICAgICAgICBwZW9wbGVGYWN0b3J5LnBvc3RQZXJzb24ocGVyc29uSW5mbykudGhlbihzYXZlUmVzdWx0cykuY2F0Y2goKTtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRQZXJzb24gPSB7fTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnVwZGF0ZVBlcnNvbiA9IGZ1bmN0aW9uIChwZXJzb25JbmZvKSB7XG4gICAgICAgIHBlb3BsZUZhY3RvcnkudXBkYXRlUGVyc29uKHBlcnNvbkluZm8pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50UmVzdWx0cyA9IFtwZXJzb25JbmZvXTtcbiAgICAgICAgfSkuY2F0Y2goKTtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRQZXJzb24gPSB7fTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmRlbGV0ZVBlcnNvbiA9IGZ1bmN0aW9uIChwZXJzb25JbmZvKSB7XG5cbiAgICAgICAgcGVvcGxlRmFjdG9yeS5kZWxldGVQZXJzb24ocGVyc29uSW5mbykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudFJlc3VsdHMgPSBbe1xuICAgICAgICAgICAgICAgIGlkOiAnUkVDT1JEIERFTEVURUQnLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdSRUNPUkQgREVMRVRFRCcsXG4gICAgICAgICAgICAgICAgZmF2b3JpdGVDaXR5OiAnUkVDT1JEIERFTEVURUQnXG4gICAgICAgICAgICB9XTtcbiAgICAgICAgfSkuY2F0Y2goKTtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRQZXJzb24gPSB7fTtcbiAgICB9O1xufSk7XG5hcHAuZmFjdG9yeSgncGVvcGxlRmFjdG9yeScsIGZ1bmN0aW9uICgkaHR0cCkge1xuXG4gICAgZnVuY3Rpb24gZ2V0RGF0YShyZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBnZXRBbGxQZW9wbGU6IGZ1bmN0aW9uIGdldEFsbFBlb3BsZSgpIHtcblxuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9wZW9wbGUnKS50aGVuKGdldERhdGEpLmNhdGNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFNpbmdsZVBlcnNvbjogZnVuY3Rpb24gZ2V0U2luZ2xlUGVyc29uKHBlcnNvbkluZm8pIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcGVvcGxlLycgKyBwZXJzb25JbmZvLmlkKS50aGVuKGdldERhdGEpLmNhdGNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHBvc3RQZXJzb246IGZ1bmN0aW9uIHBvc3RQZXJzb24ocGVyc29uSW5mbykge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvcGVvcGxlJywgcGVyc29uSW5mbykudGhlbihnZXREYXRhKS5jYXRjaCgpO1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVQZXJzb246IGZ1bmN0aW9uIHVwZGF0ZVBlcnNvbihwZXJzb25JbmZvKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3Blb3BsZS8nICsgcGVyc29uSW5mby5pZCwgcGVyc29uSW5mbykudGhlbihnZXREYXRhKS5jYXRjaCgpO1xuICAgICAgICB9LFxuICAgICAgICBkZWxldGVQZXJzb246IGZ1bmN0aW9uIGRlbGV0ZVBlcnNvbihwZXJzb25JbmZvKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZGVsZXRlKCcvYXBpL3Blb3BsZS8nICsgcGVyc29uSW5mby5pZCkudGhlbihnZXREYXRhKS5jYXRjaCgpO1xuICAgICAgICB9XG4gICAgfTtcbn0pOyIsImxldCBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLCBbJ3VpLnJvdXRlciddKTtcblxuYXBwLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlcicsICckbG9jYXRpb25Qcm92aWRlcicsIGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG4gICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgcmVxdWlyZUJhc2U6IGZhbHNlXG4gICAgfSk7XG4gICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZShcIi9cIik7XG59XSk7IiwiYXBwLmNvbnRyb2xsZXIoJ3Blb3BsZUNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsIHBlb3BsZUZhY3RvcnkpIHtcblxuICAgIGZ1bmN0aW9uIGNvdW50UHJvcGVydGllcyhvYmopIHtcbiAgICAgICAgdmFyIGNvdW50ID0gMDtcblxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSlcbiAgICAgICAgICAgICAgICArK2NvdW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNhdmVSZXN1bHRzKHJlc3VsdHMpIHtcblxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVzdWx0cykpIHtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50UmVzdWx0cyA9IFtyZXN1bHRzXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50UmVzdWx0cyA9IHJlc3VsdHNcbiAgICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5tYXggPSAwO1xuXG4gICAgJHNjb3BlLnBlb3BsZSA9IHBlb3BsZUZhY3RvcnkuZ2V0QWxsUGVvcGxlKCkudGhlbihmdW5jdGlvbihwZW9wbGUpIHtcbiAgICAgICAgJHNjb3BlLm1heCA9IHBhcnNlSW50KGNvdW50UHJvcGVydGllcyhwZW9wbGUpKTtcbiAgICB9KTtcblxuXG4gICAgJHNjb3BlLmN1cnJlbnRQZXJzb24gPSB7fTtcblxuICAgICRzY29wZS5jdXJyZW50UmVzdWx0cyA9IHt9O1xuXG4gICAgJHNjb3BlLmdldFBlcnNvbnMgPSBmdW5jdGlvbihwZXJzb25JbmZvKSB7XG4gICAgICAgIGlmICghIXBlcnNvbkluZm8uaWQpIHtcbiAgICAgICAgICAgICRzY29wZS5nZXRTaW5nbGVQZXJzb24oJHNjb3BlLmN1cnJlbnRQZXJzb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHNjb3BlLmdldEFsbFBlb3BsZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLmdldEFsbFBlb3BsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBwZW9wbGVGYWN0b3J5LmdldEFsbFBlb3BsZSgpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5jdXJyZW50UmVzdWx0cyA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgpO1xuICAgIH1cblxuICAgICRzY29wZS5nZXRTaW5nbGVQZXJzb24gPSBmdW5jdGlvbihwZXJzb25JbmZvKSB7XG4gICAgICAgIHBlb3BsZUZhY3RvcnkuZ2V0U2luZ2xlUGVyc29uKHBlcnNvbkluZm8pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdC5pZCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogXCJObyBSZWNvcmQgRm91bmRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiTm8gUmVjb3JkIEZvdW5kXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmYXZvcml0ZUNpdHk6IFwiTm8gUmVjb3JkIEZvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkc2NvcGUuY3VycmVudFJlc3VsdHMgPSBbcmVzdWx0XTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKTtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRQZXJzb24gPSB7fTtcbiAgICB9XG5cbiAgICAkc2NvcGUucG9zdFBlcnNvbiA9IGZ1bmN0aW9uKHBlcnNvbkluZm8pIHtcbiAgICAgICAgcGVvcGxlRmFjdG9yeS5wb3N0UGVyc29uKHBlcnNvbkluZm8pXG4gICAgICAgICAgICAudGhlbihzYXZlUmVzdWx0cylcbiAgICAgICAgICAgIC5jYXRjaCgpO1xuICAgICAgICAkc2NvcGUuY3VycmVudFBlcnNvbiA9IHt9O1xuICAgIH1cblxuICAgICRzY29wZS51cGRhdGVQZXJzb24gPSBmdW5jdGlvbihwZXJzb25JbmZvKSB7XG4gICAgICAgIHBlb3BsZUZhY3RvcnkudXBkYXRlUGVyc29uKHBlcnNvbkluZm8pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRSZXN1bHRzID0gW3BlcnNvbkluZm9dO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgpO1xuICAgICAgICAkc2NvcGUuY3VycmVudFBlcnNvbiA9IHt9O1xuICAgIH1cblxuICAgICRzY29wZS5kZWxldGVQZXJzb24gPSBmdW5jdGlvbihwZXJzb25JbmZvKSB7XG5cbiAgICAgICAgcGVvcGxlRmFjdG9yeS5kZWxldGVQZXJzb24ocGVyc29uSW5mbylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5jdXJyZW50UmVzdWx0cyA9IFt7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAnUkVDT1JEIERFTEVURUQnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnUkVDT1JEIERFTEVURUQnLFxuICAgICAgICAgICAgICAgICAgICBmYXZvcml0ZUNpdHk6ICdSRUNPUkQgREVMRVRFRCdcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgpXG4gICAgICAgICRzY29wZS5jdXJyZW50UGVyc29uID0ge307XG4gICAgfVxufSkiLCJhcHAuZmFjdG9yeSgncGVvcGxlRmFjdG9yeScsIGZ1bmN0aW9uKCRodHRwKSB7XG5cbiAgICBmdW5jdGlvbiBnZXREYXRhKHJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGdldEFsbFBlb3BsZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcGVvcGxlJylcbiAgICAgICAgICAgICAgICAudGhlbihnZXREYXRhKVxuICAgICAgICAgICAgICAgIC5jYXRjaCgpXG4gICAgICAgIH0sXG4gICAgICAgIGdldFNpbmdsZVBlcnNvbjogZnVuY3Rpb24ocGVyc29uSW5mbykge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9wZW9wbGUvJyArIHBlcnNvbkluZm8uaWQpXG4gICAgICAgICAgICAgICAgLnRoZW4oZ2V0RGF0YSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKVxuICAgICAgICB9LFxuICAgICAgICBwb3N0UGVyc29uOiBmdW5jdGlvbihwZXJzb25JbmZvKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9wZW9wbGUnLCBwZXJzb25JbmZvKVxuICAgICAgICAgICAgICAgIC50aGVuKGdldERhdGEpXG4gICAgICAgICAgICAgICAgLmNhdGNoKClcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlUGVyc29uOiBmdW5jdGlvbihwZXJzb25JbmZvKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3Blb3BsZS8nICsgcGVyc29uSW5mby5pZCwgcGVyc29uSW5mbylcbiAgICAgICAgICAgICAgICAudGhlbihnZXREYXRhKVxuICAgICAgICAgICAgICAgIC5jYXRjaCgpXG4gICAgICAgIH0sXG4gICAgICAgIGRlbGV0ZVBlcnNvbjogZnVuY3Rpb24ocGVyc29uSW5mbykge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmRlbGV0ZSgnL2FwaS9wZW9wbGUvJyArIHBlcnNvbkluZm8uaWQpXG4gICAgICAgICAgICAgICAgLnRoZW4oZ2V0RGF0YSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKVxuICAgICAgICB9XG4gICAgfVxufSkiXX0=
